{"version":3,"sources":["app.js","notes/notes.js","services/notes-service.js"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function() {\n  var notelyApp = angular.module('notely', [\n    'ui.router',\n    'notely.notes'\n  ]);\n\n  function notelyConfig($urlRouterProvider) {\n    $urlRouterProvider.otherwise('/notes/');\n  }\n\n  notelyConfig.$inject = ['$urlRouterProvider'];\n  notelyApp.config(notelyConfig);\n\n  notelyApp.constant('API_BASE', 'http://localhost:3030/');\n})();\n","(function() {\n  angular.module('notely.notes', [\n    'ui.router',\n    'textAngular'\n  ])\n  .config(notesConfig);\n\n  notesConfig.$inject = ['$stateProvider'];\n  function notesConfig($stateProvider) {\n    $stateProvider\n\n      .state('notes', {\n        url: '/notes',\n        templateUrl: '/notes/notes.html',\n        controller: NotesController,\n        resolve: {\n          notesLoaded: function(NotesService) {\n            return NotesService.fetch();\n          }\n        }\n      })\n\n      .state('notes.form', {\n        url: '/:noteId',\n        templateUrl: '/notes/notes-form.html',\n        controller: NotesFormController\n      });\n  }\n\n  NotesController.$inject = ['$scope', '$state', 'NotesService'];\n  function NotesController($scope, $state, NotesService) {\n    $scope.notes = NotesService.getNotes();\n    $state.go('notes.form');\n  }\n\n  NotesFormController.$inject = ['$scope', '$state', 'NotesService'];\n  function NotesFormController($scope, $state, NotesService) {\n    $scope.note = NotesService.findById($state.params.noteId);\n    $scope.save = function() {\n      if ($scope.note._id) {\n        NotesService.update($scope.note);\n      }\n      else {\n        NotesService.create($scope.note).then(function(response) {\n          $state.go('notes.form', { noteId: response.data.note._id });\n        });\n      }\n    };\n    $scope.delete = function() {\n      NotesService.delete($scope.note).then(function() {\n        $state.go('notes.form', { noteId: undefined });\n      });\n    };\n  }\n})();\n","(function() {\n  angular.module('notely')\n    .service('NotesService', NotesService);\n\n  NotesService.$inject = ['$http', 'API_BASE'];\n  function NotesService($http, API_BASE) {\n    var _this = this;\n    _this.notes = [];\n\n    _this.fetch = function() {\n      return $http.get(API_BASE + 'notes')\n        .then(\n          // Success\n          function(response) {\n            _this.notes = response.data;\n          },\n\n          // Failure\n          function(response) {\n            console.log('aww, snap:' + response);\n          }\n        );\n    };\n\n    _this.getNotes = function() {\n      return _this.notes;\n    };\n\n    _this.create = function(note) {\n      var creationPromise = $http.post(API_BASE + 'notes', {\n        note: note\n      });\n\n      creationPromise.then(function(response) {\n        _this.notes.unshift(response.data.note);\n      });\n\n      return creationPromise;\n    };\n\n    _this.update = function(note) {\n      return $http.put(API_BASE + 'notes/' + note._id, {\n        note: {\n          title: note.title,\n          body_html: note.body_html\n        }\n      }).then(function(response) {\n        _this.replaceNote(response.data.note);\n      });\n    };\n\n    _this.delete = function(note) {\n      return $http.delete(API_BASE + 'notes/' + note._id\n      ).then(function(response) {\n        _this.removeNote(response.data.note);\n      });\n    };\n\n    _this.removeNote = function(note) {\n      for (var i = 0; i < _this.notes.length; i++) {\n        if (_this.notes[i]._id === note._id) {\n          _this.notes.splice(i, 1);\n          return;\n        }\n      }\n    };\n\n    _this.replaceNote = function(updatedNote) {\n      for (var i = 0; i < _this.notes.length; i++) {\n        if (_this.notes[i]._id === updatedNote._id) {\n          _this.notes[i] = updatedNote;\n          return;\n        }\n      }\n    };\n\n    _this.findById = function(noteId) {\n      for (var i = 0; i < _this.notes.length; i++) {\n        // If the IDs match, return the current note\n        if (_this.notes[i]._id === noteId) {\n          return angular.copy(_this.notes[i]);\n        }\n      }\n      return {};\n    };\n  }\n}());\n"],"sourceRoot":"/source/"}